function cov_qiha39wxu(){var path="C:\\Users\\JonathanSanchezSanab\\Documents\\Personal\\Capacitacion\\API-REST-NODE\\src\\service\\APIService.js";var hash="349d07798372b2ec3e5f0ecc4a82a8fbb9cd6223";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\JonathanSanchezSanab\\Documents\\Personal\\Capacitacion\\API-REST-NODE\\src\\service\\APIService.js",statementMap:{"0":{start:{line:1,column:19},end:{line:1,column:60}},"1":{start:{line:3,column:16},end:{line:3,column:18}},"2":{start:{line:6,column:0},end:{line:10,column:1}},"3":{start:{line:8,column:8},end:{line:8,column:28}},"4":{start:{line:13,column:0},end:{line:26,column:1}},"5":{start:{line:14,column:4},end:{line:14,column:17}},"6":{start:{line:15,column:16},end:{line:15,column:40}},"7":{start:{line:16,column:4},end:{line:25,column:7}},"8":{start:{line:17,column:8},end:{line:17,column:30}},"9":{start:{line:17,column:18},end:{line:17,column:30}},"10":{start:{line:18,column:8},end:{line:24,column:9}},"11":{start:{line:20,column:12},end:{line:20,column:54}},"12":{start:{line:23,column:12},end:{line:23,column:40}},"13":{start:{line:29,column:0},end:{line:43,column:1}},"14":{start:{line:30,column:4},end:{line:30,column:17}},"15":{start:{line:31,column:17},end:{line:31,column:27}},"16":{start:{line:32,column:16},end:{line:32,column:57}},"17":{start:{line:33,column:4},end:{line:42,column:7}},"18":{start:{line:34,column:8},end:{line:34,column:30}},"19":{start:{line:34,column:18},end:{line:34,column:30}},"20":{start:{line:35,column:8},end:{line:41,column:9}},"21":{start:{line:37,column:12},end:{line:37,column:53}},"22":{start:{line:40,column:12},end:{line:40,column:42}},"23":{start:{line:45,column:0},end:{line:57,column:1}},"24":{start:{line:46,column:4},end:{line:46,column:17}},"25":{start:{line:47,column:16},end:{line:47,column:44}},"26":{start:{line:48,column:24},end:{line:51,column:5}},"27":{start:{line:52,column:4},end:{line:56,column:7}},"28":{start:{line:53,column:8},end:{line:53,column:30}},"29":{start:{line:53,column:18},end:{line:53,column:30}},"30":{start:{line:55,column:8},end:{line:55,column:26}},"31":{start:{line:60,column:0},end:{line:70,column:1}},"32":{start:{line:61,column:4},end:{line:61,column:17}},"33":{start:{line:62,column:15},end:{line:62,column:25}},"34":{start:{line:63,column:27},end:{line:63,column:35}},"35":{start:{line:64,column:15},end:{line:64,column:93}},"36":{start:{line:65,column:4},end:{line:69,column:6}},"37":{start:{line:66,column:8},end:{line:66,column:30}},"38":{start:{line:66,column:18},end:{line:66,column:30}},"39":{start:{line:68,column:8},end:{line:68,column:30}},"40":{start:{line:72,column:0},end:{line:81,column:1}},"41":{start:{line:73,column:4},end:{line:73,column:17}},"42":{start:{line:74,column:15},end:{line:74,column:25}},"43":{start:{line:75,column:16},end:{line:75,column:57}},"44":{start:{line:76,column:4},end:{line:80,column:7}},"45":{start:{line:77,column:8},end:{line:77,column:30}},"46":{start:{line:77,column:18},end:{line:77,column:30}},"47":{start:{line:79,column:8},end:{line:79,column:30}},"48":{start:{line:84,column:0},end:{line:84,column:24}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:6,column:15},end:{line:6,column:16}},loc:{start:{line:6,column:20},end:{line:10,column:1}},line:6},"1":{name:"conn",decl:{start:{line:7,column:13},end:{line:7,column:17}},loc:{start:{line:7,column:19},end:{line:9,column:5}},line:7},"2":{name:"(anonymous_2)",decl:{start:{line:13,column:20},end:{line:13,column:21}},loc:{start:{line:13,column:33},end:{line:26,column:1}},line:13},"3":{name:"(anonymous_3)",decl:{start:{line:16,column:20},end:{line:16,column:21}},loc:{start:{line:16,column:38},end:{line:25,column:5}},line:16},"4":{name:"(anonymous_4)",decl:{start:{line:29,column:19},end:{line:29,column:20}},loc:{start:{line:29,column:32},end:{line:43,column:1}},line:29},"5":{name:"(anonymous_5)",decl:{start:{line:33,column:20},end:{line:33,column:21}},loc:{start:{line:33,column:38},end:{line:42,column:5}},line:33},"6":{name:"(anonymous_6)",decl:{start:{line:45,column:14},end:{line:45,column:15}},loc:{start:{line:45,column:26},end:{line:57,column:1}},line:45},"7":{name:"(anonymous_7)",decl:{start:{line:52,column:32},end:{line:52,column:33}},loc:{start:{line:52,column:48},end:{line:56,column:5}},line:52},"8":{name:"(anonymous_8)",decl:{start:{line:60,column:17},end:{line:60,column:18}},loc:{start:{line:60,column:29},end:{line:70,column:1}},line:60},"9":{name:"(anonymous_9)",decl:{start:{line:65,column:20},end:{line:65,column:21}},loc:{start:{line:65,column:27},end:{line:69,column:4}},line:65},"10":{name:"(anonymous_10)",decl:{start:{line:72,column:17},end:{line:72,column:18}},loc:{start:{line:72,column:29},end:{line:81,column:1}},line:72},"11":{name:"(anonymous_11)",decl:{start:{line:76,column:20},end:{line:76,column:21}},loc:{start:{line:76,column:37},end:{line:80,column:5}},line:76}},branchMap:{"0":{loc:{start:{line:17,column:8},end:{line:17,column:30}},type:"if",locations:[{start:{line:17,column:8},end:{line:17,column:30}},{start:{line:17,column:8},end:{line:17,column:30}}],line:17},"1":{loc:{start:{line:18,column:8},end:{line:24,column:9}},type:"if",locations:[{start:{line:18,column:8},end:{line:24,column:9}},{start:{line:18,column:8},end:{line:24,column:9}}],line:18},"2":{loc:{start:{line:34,column:8},end:{line:34,column:30}},type:"if",locations:[{start:{line:34,column:8},end:{line:34,column:30}},{start:{line:34,column:8},end:{line:34,column:30}}],line:34},"3":{loc:{start:{line:35,column:8},end:{line:41,column:9}},type:"if",locations:[{start:{line:35,column:8},end:{line:41,column:9}},{start:{line:35,column:8},end:{line:41,column:9}}],line:35},"4":{loc:{start:{line:53,column:8},end:{line:53,column:30}},type:"if",locations:[{start:{line:53,column:8},end:{line:53,column:30}},{start:{line:53,column:8},end:{line:53,column:30}}],line:53},"5":{loc:{start:{line:66,column:8},end:{line:66,column:30}},type:"if",locations:[{start:{line:66,column:8},end:{line:66,column:30}},{start:{line:66,column:8},end:{line:66,column:30}}],line:66},"6":{loc:{start:{line:77,column:8},end:{line:77,column:30}},type:"if",locations:[{start:{line:77,column:8},end:{line:77,column:30}},{start:{line:77,column:8},end:{line:77,column:30}}],line:77}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"349d07798372b2ec3e5f0ecc4a82a8fbb9cd6223"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_qiha39wxu=function(){return actualCoverage;};}return actualCoverage;}cov_qiha39wxu();const connection=(cov_qiha39wxu().s[0]++,require('../../DB_Connection/connection'));const service=(cov_qiha39wxu().s[1]++,{});cov_qiha39wxu().s[2]++;service.conn=()=>{cov_qiha39wxu().f[0]++;function conn(){cov_qiha39wxu().f[1]++;cov_qiha39wxu().s[3]++;return connection();}};cov_qiha39wxu().s[4]++;service.ListarAll=(req,res)=>{cov_qiha39wxu().f[2]++;cov_qiha39wxu().s[5]++;conne=conn();const sql=(cov_qiha39wxu().s[6]++,'SELECT * FROM location');cov_qiha39wxu().s[7]++;conne.query(sql,(error,results)=>{cov_qiha39wxu().f[3]++;cov_qiha39wxu().s[8]++;if(error){cov_qiha39wxu().b[0][0]++;cov_qiha39wxu().s[9]++;throw error;}else{cov_qiha39wxu().b[0][1]++;}cov_qiha39wxu().s[10]++;if(results.length>0){cov_qiha39wxu().b[1][0]++;cov_qiha39wxu().s[11]++;//res.json(results);
console.log("Entro ALL y listo ",results);}else{cov_qiha39wxu().b[1][1]++;cov_qiha39wxu().s[12]++;//res.send("No Location");
console.log("No Locations");}});};cov_qiha39wxu().s[13]++;service.ListarID=(req,res)=>{cov_qiha39wxu().f[4]++;cov_qiha39wxu().s[14]++;conne=conn();const{id}=(cov_qiha39wxu().s[15]++,req.params);const sql=(cov_qiha39wxu().s[16]++,`SELECT * FROM location WHERE id='${id}'`);cov_qiha39wxu().s[17]++;conne.query(sql,(error,results)=>{cov_qiha39wxu().f[5]++;cov_qiha39wxu().s[18]++;if(error){cov_qiha39wxu().b[2][0]++;cov_qiha39wxu().s[19]++;throw error;}else{cov_qiha39wxu().b[2][1]++;}cov_qiha39wxu().s[20]++;if(results.length>0){cov_qiha39wxu().b[3][0]++;cov_qiha39wxu().s[21]++;//res.json(results);
console.log("Entro ID y listo ",results);}else{cov_qiha39wxu().b[3][1]++;cov_qiha39wxu().s[22]++;//res.send("No Location ID");
console.log("No Location ID");}});};cov_qiha39wxu().s[23]++;service.add=(req,res)=>{cov_qiha39wxu().f[6]++;cov_qiha39wxu().s[24]++;conne=conn();const sql=(cov_qiha39wxu().s[25]++,'INSERT INTO location SET ?');const locationObj=(cov_qiha39wxu().s[26]++,{name:req.body.name,area_m2:req.body.area_m2});cov_qiha39wxu().s[27]++;conne.query(sql,locationObj,(error,result)=>{cov_qiha39wxu().f[7]++;cov_qiha39wxu().s[28]++;if(error){cov_qiha39wxu().b[4][0]++;cov_qiha39wxu().s[29]++;throw error;}else{cov_qiha39wxu().b[4][1]++;}//res.send("OK");   
cov_qiha39wxu().s[30]++;console.log("OK");});};cov_qiha39wxu().s[31]++;service.update=(req,res)=>{cov_qiha39wxu().f[8]++;cov_qiha39wxu().s[32]++;conne=conn();const{id}=(cov_qiha39wxu().s[33]++,req.params);const{name,area_m2}=(cov_qiha39wxu().s[34]++,req.body);const sql=(cov_qiha39wxu().s[35]++,`UPDATE location SET name = '${name}', area_m2 ='${area_m2}' WHERE id='${id}'`);cov_qiha39wxu().s[36]++;conne.query(sql,error=>{cov_qiha39wxu().f[9]++;cov_qiha39wxu().s[37]++;if(error){cov_qiha39wxu().b[5][0]++;cov_qiha39wxu().s[38]++;throw error;}else{cov_qiha39wxu().b[5][1]++;}//res.send("OK UPDATE");
cov_qiha39wxu().s[39]++;console.log("UPDATE");});};cov_qiha39wxu().s[40]++;service.delete=(req,res)=>{cov_qiha39wxu().f[10]++;cov_qiha39wxu().s[41]++;conne=conn();const{id}=(cov_qiha39wxu().s[42]++,req.params);const sql=(cov_qiha39wxu().s[43]++,`DELETE FROM location WHERE id = '${id}'`);cov_qiha39wxu().s[44]++;conne.query(sql,(error,result)=>{cov_qiha39wxu().f[11]++;cov_qiha39wxu().s[45]++;if(error){cov_qiha39wxu().b[6][0]++;cov_qiha39wxu().s[46]++;throw error;}else{cov_qiha39wxu().b[6][1]++;}//res.send("OK DELETE");
cov_qiha39wxu().s[47]++;console.log("DELETE");});};cov_qiha39wxu().s[48]++;module.exports=service;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFQSVNlcnZpY2UuanMiXSwibmFtZXMiOlsiY29ubmVjdGlvbiIsInJlcXVpcmUiLCJzZXJ2aWNlIiwiY29ubiIsIkxpc3RhckFsbCIsInJlcSIsInJlcyIsImNvbm5lIiwic3FsIiwicXVlcnkiLCJlcnJvciIsInJlc3VsdHMiLCJsZW5ndGgiLCJjb25zb2xlIiwibG9nIiwiTGlzdGFySUQiLCJpZCIsInBhcmFtcyIsImFkZCIsImxvY2F0aW9uT2JqIiwibmFtZSIsImJvZHkiLCJhcmVhX20yIiwicmVzdWx0IiwidXBkYXRlIiwiZGVsZXRlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6InUyTkFlWTt5RkFmWixLQUFNQSxDQUFBQSxVQUFVLHlCQUFHQyxPQUFPLENBQUMsZ0NBQUQsQ0FBVixDQUFoQixDQUVBLEtBQU1DLENBQUFBLE9BQU8seUJBQUcsRUFBSCxDQUFiLEMsdUJBR0FBLE9BQU8sQ0FBQ0MsSUFBUixDQUFlLElBQUssd0JBQ2hCLFFBQVNBLENBQUFBLElBQVQsRUFBZSwrQ0FDWCxNQUFPSCxDQUFBQSxVQUFVLEVBQWpCLENBQ0gsQ0FDSixDQUpELEMsdUJBT0FFLE9BQU8sQ0FBQ0UsU0FBUixDQUFvQixDQUFDQyxHQUFELENBQUtDLEdBQUwsR0FBYSwrQ0FDN0JDLEtBQUssQ0FBQ0osSUFBSSxFQUFWLENBQ0EsS0FBTUssQ0FBQUEsR0FBRyx5QkFBRyx3QkFBSCxDQUFULENBRjZCLHVCQUc3QkQsS0FBSyxDQUFDRSxLQUFOLENBQVlELEdBQVosQ0FBZ0IsQ0FBQ0UsS0FBRCxDQUFRQyxPQUFSLEdBQWtCLCtDQUM5QixHQUFHRCxLQUFILENBQVUsdURBQU1BLENBQUFBLEtBQU4sQ0FBWSxDQUF0QixnQ0FEOEIsd0JBRTlCLEdBQUdDLE9BQU8sQ0FBQ0MsTUFBUixDQUFnQixDQUFuQixDQUFzQixtREFDbEI7QUFDQUMsT0FBTyxDQUFDQyxHQUFSLENBQVksb0JBQVosQ0FBa0NILE9BQWxDLEVBQ0gsQ0FIRCxJQUdLLG1EQUNEO0FB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RjZCLHdCQUc3QkcsT0FBTyxDQUFDQyxHQUFSLENBQVksUUFBWixFQUNILENBSkQsRUFLSCxDQVRELEMsd0JBWUFZLE1BQU0sQ0FBQ0MsT0FBUCxDQUFnQnpCLE9BQWhCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgY29ubmVjdGlvbiA9IHJlcXVpcmUoJy4uLy4uL0RCX0Nvbm5lY3Rpb24vY29ubmVjdGlvbicpO1xyXG5cclxuY29uc3Qgc2VydmljZSA9IHt9O1xyXG5cclxuXHJcbnNlcnZpY2UuY29ubiA9ICgpPT4ge1xyXG4gICAgZnVuY3Rpb24gY29ubigpe1xyXG4gICAgICAgIHJldHVybiBjb25uZWN0aW9uKCk7XHJcbiAgICB9XHJcbn1cclxuIFxyXG5cclxuc2VydmljZS5MaXN0YXJBbGwgPSAocmVxLHJlcykgPT4ge1xyXG4gICAgY29ubmU9Y29ubigpO1xyXG4gICAgY29uc3Qgc3FsID0gJ1NFTEVDVCAqIEZST00gbG9jYXRpb24nO1xyXG4gICAgY29ubmUucXVlcnkoc3FsLChlcnJvciwgcmVzdWx0cyk9PntcclxuICAgICAgICBpZihlcnJvcikgdGhyb3cgZXJyb3I7XHJcbiAgICAgICAgaWYocmVzdWx0cy5sZW5ndGggPjApIHtcclxuICAgICAgICAgICAgLy9yZXMuanNvbihyZXN1bHRzKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJFbnRybyBBTEwgeSBsaXN0byBcIiwgcmVzdWx0cylcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgLy9yZXMuc2VuZChcIk5vIExvY2F0aW9uXCIpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIk5vIExvY2F0aW9uc1wiKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuXHJcbnNlcnZpY2UuTGlzdGFySUQgPSAocmVxLHJlcykgPT4ge1xyXG4gICAgY29ubmU9Y29ubigpO1xyXG4gICAgY29uc3Qge2lkfSA9IHJlcS5wYXJhbXM7XHJcbiAgICBjb25zdCBzcWwgPSBgU0VMRUNUICogRlJPTSBsb2NhdGlvbiBXSEVSRSBpZD0nJHtpZH0nYDtcclxuICAgIGNvbm5lLnF1ZXJ5KHNxbCwoZXJyb3IsIHJlc3VsdHMpPT57XHJcbiAgICAgICAgaWYoZXJyb3IpIHRocm93IGVycm9yO1xyXG4gICAgICAgIGlmKHJlc3VsdHMubGVuZ3RoID4wKSB7XHJcbiAgICAgICAgICAgIC8vcmVzLmpzb24ocmVzdWx0cyk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRW50cm8gSUQgeSBsaXN0byBcIiwgcmVzdWx0cylcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgLy9yZXMuc2VuZChcIk5vIExvY2F0aW9uIElEXCIpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIk5vIExvY2F0aW9uIElEXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5zZXJ2aWNlLmFkZCA9IChyZXEscmVzKSA9PntcclxuICAgIGNvbm5lPWNvbm4oKTtcclxuICAgIGNvbnN0IHNxbCA9ICdJTlNFUlQgSU5UTyBsb2NhdGlvbiBTRVQgPyc7XHJcbiAgICBjb25zdCBsb2NhdGlvbk9iaiA9IHtcclxuICAgICAgICBuYW1lOiByZXEuYm9keS5uYW1lLFxyXG4gICAgICAgIGFyZWFfbTI6IHJlcS5ib2R5LmFyZWFfbTJcclxuICAgIH07XHJcbiAgICBjb25uZS5xdWVyeShzcWwsbG9jYXRpb25PYmosKGVycm9yLHJlc3VsdCk9PntcclxuICAgICAgICBpZihlcnJvcikgdGhyb3cgZXJyb3I7XHJcbiAgICAgICAgLy9yZXMuc2VuZChcIk9LXCIpOyAgIFxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiT0tcIik7XHJcbiAgICB9KTtcclxufVxyXG5cclxuXHJcbnNlcnZpY2UudXBkYXRlID0gKHJlcSxyZXMpID0+e1xyXG4gICAgY29ubmU9Y29ubigpO1xyXG4gICAgY29uc3Qge2lkfT1yZXEucGFyYW1zO1xyXG4gICAgY29uc3R7bmFtZSwgYXJlYV9tMn0gPSByZXEuYm9keTtcclxuICAgIGNvbnN0IHNxbCA9YFVQREFURSBsb2NhdGlvbiBTRVQgbmFtZSA9ICcke25hbWV9JywgYXJlYV9tMiA9JyR7YXJlYV9tMn0nIFdIRVJFIGlkPScke2lkfSdgO1xyXG4gICAgY29ubmUucXVlcnkoc3FsLGVycm9yPT57XHJcbiAgICAgICAgaWYoZXJyb3IpIHRocm93IGVycm9yO1xyXG4gICAgICAgIC8vcmVzLnNlbmQoXCJPSyBVUERBVEVcIik7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJVUERBVEVcIik7ICAgXHJcbiAgIH0pO1xyXG59XHJcblxyXG5zZXJ2aWNlLmRlbGV0ZSA9IChyZXEscmVzKSA9PntcclxuICAgIGNvbm5lPWNvbm4oKTtcclxuICAgIGNvbnN0IHtpZH09cmVxLnBhcmFtcztcclxuICAgIGNvbnN0IHNxbCA9IGBERUxFVEUgRlJPTSBsb2NhdGlvbiBXSEVSRSBpZCA9ICcke2lkfSdgO1xyXG4gICAgY29ubmUucXVlcnkoc3FsLChlcnJvciwgcmVzdWx0KT0+e1xyXG4gICAgICAgIGlmKGVycm9yKSB0aHJvdyBlcnJvcjtcclxuICAgICAgICAvL3Jlcy5zZW5kKFwiT0sgREVMRVRFXCIpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiREVMRVRFXCIpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9c2VydmljZTsiXX0=