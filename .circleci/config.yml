version: 2.1
jobs:
  build:
    docker:
      - image: circleci/openjdk:8-jdk
    working_directory: ~/repo
    steps: 
      # check out source code to working directory
      - checkout       
      - node/install-packages:
          cache-path: ~/API-REST-NODE/node_modules
          override-ci-command: npm install
      - run: npm test
      # uploads the test metadata from the `target/surefire-reports` directory so that it can show up in the CircleCI dashboard. 
      - store_test_results: 
      # Upload test results for display in Test Summary: https://circleci.com/docs/2.0/collect-test-data/
          path: target/surefire-reports
      
          
